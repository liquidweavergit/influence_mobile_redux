<%= form_with(model: @user, :html=>{  class: "needs-validation", novalidate: true }) do |f| %>
  <% if @user.errors.any? %>
    <ul>
      <% @user.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </ul>
  <% end %>

  <div class="form-group row col-sm-12">
    <%= f.label :first_name, :html=>{ class: "col-sm-2 col-form-label" } %>
    <%= f.text_field :first_name,
                autofocus: true,
                class: "form-control",
                required: 'true' %>
  </div>

  <div class="form-group row col-sm-12">
    <%= f.label :last_name, :html=>{ class: "col-sm-2 col-form-label" } %>
    <%= f.text_field :last_name,
                autofocus: true,
                class: "form-control",
                required: 'true' %>
  </div>

  <div class="form-group row col-sm-12">
    <%= f.label :username, :html=>{ class: "col-sm-2 col-form-label" } %>
    <%= f.text_field :username,
                autofocus: true,
                class: "form-control",
                required: 'true' %>
  </div>

  <div class="form-group row col-sm-12">
    <%= f.label :email, :html=>{ class: "col-sm-2 col-form-label" } %>
    <%= f.email_field :email,
                      autofocus: true,
                      autocomplete: "email",
                      class: "form-control",
                      required: 'true' %>
  </div>

  <div class="form-group row col-sm-12">
    <div class="col-sm-12 col-form-label">
      Gender
    </div>
    <div class="form-check form-check-inline">
      <%= f.radio_button :gender, 'male' %>
      <%= f.label :gender, 'male', :value => 'male' %>
    </div>
    <div class="form-check form-check-inline">
      <%= f.radio_button :gender, 'female' %>
      <%= f.label :gender, 'female', :value => 'female' %>
    </div>
    <div class="form-check form-check-inline">
      <%= f.radio_button :gender, 'other' %>
      <%= f.label :gender, 'other', :value => 'other' %>
    </div>
  </div>

  <div class="form-group row col-sm-12 pt-3">
    <%= f.label :birthdate, :html=>{ class: "col-sm-2 col-form-label" } %>
    <%= f.date_field :birthdate,
                     min: Date.today - 100.years,
                     class: "form-control" %>
  </div>

  <% if is_new_user %>
    <div class="form-group row col-sm-12 pt-3">
      <%= f.label :password, :html=>{ class: "col-sm-2 col-form-label" } %>
      <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> characters minimum)</em>
      <% end %><br />
      <%= f.password_field :password,
                           autocomplete: "new-password",
                           class: "form-control",
                           required: 'true' %>
    </div>

    <div class="form-group row col-sm-12 pt-3">
      <%= f.label :password_confirmation, :html=>{ class: "col-sm-2 col-form-label" } %>
      <%= f.password_field :password_confirmation,
                           autocomplete: "new-password",
                           class: "form-control",
                           required: 'true' %>
    </div>
  <% end %>

  <div class="form-group row pt-2 col-sm-12 text-end pt-3">
    <div class="col-sm-12">
      <%= f.submit button_text, html={ class: "btn btn-primary mb-2" } %>
    </div>
  </div>
<% end %>

